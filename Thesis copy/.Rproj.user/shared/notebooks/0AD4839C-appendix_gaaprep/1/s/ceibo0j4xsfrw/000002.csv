"0","# Konfiguration"
"0","library(tidyverse)"
"0","library(sf)"
"0","library(rgdal)"
"0","library(areal)"
"0","library(raster)"
"0","library(automap)"
"0","setwd(""~/Desktop/Code/Thesis"")"
"2","The working directory was changed to /Users/clydeschwab/Desktop/Code/Thesis inside a notebook chunk. The working directory will be reset when the chunk is finished running. Use the knitr root.dir option in the setup chunk to change the working directory for notebook chunks."
"0","# Funktion um Dateien aus dem FIS Broker herunterzuladen "
"0","get_X_Y_coordinates <- function(x) {"
"0","  sftype <- as.character(sf::st_geometry_type(x, by_geometry = FALSE))"
"0","  if(sftype == ""POINT"") {"
"0","    xy <- as.data.frame(sf::st_coordinates(x))"
"0","    dplyr::bind_cols(x, xy)"
"0","  } else {"
"0","    x"
"0","  }"
"0","}"
"0",""
"0","sf_fisbroker <- function(url) {"
"0","  typenames <- basename(url)"
"0","  url <- httr::parse_url(url)"
"0","  url$query <- list(service = ""wfs"","
"0","                    version = ""2.0.0"","
"0","                    request = ""GetFeature"","
"0","                    srsName = ""EPSG:25833"","
"0","                    TYPENAMES = typenames)"
"0","  request <- httr::build_url(url)"
"0","  print(request)"
"0","  out <- sf::read_sf(request)"
"0","  out <- sf::st_transform(out, 3035)"
"0","  out <- get_X_Y_coordinates(out)"
"0","  out <- st_as_sf(as.data.frame(out))"
"0","  return(out)"
"0","}"
